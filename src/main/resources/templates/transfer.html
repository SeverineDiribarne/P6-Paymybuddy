<!doctype html>
<html lang="fr" xmlns:th="http://www.thymeleaf.org">
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
	rel="stylesheet" />
<link rel="stylesheet" href="/css/transfer_style.css" type="text/css">

<title>Pay My Buddy</title>
</head>
<body>

	<!--section -->
	<div class="title_menu">
		<div class="titre">
			<h3>Pay My Buddy</h3>
		</div>
		<!-- right menu  -->
		<div class="menu">
			<nav style="-bs-breadcrumb-divider: '';" aria-label="breadcrumb">
				<ol class="breadcrumb">
					<li class="breadcrumb-item"><a href="/home">Home</a></li>
					<li class="breadcrumb-item active" aria-current="page">Transfer</li>
					<li class="breadcrumb-item"><a href="/profile">Profile</a></li>
					<li class="breadcrumb-item"><a href="/contact">Contact</a></li>
					<li class="breadcrumb-item"><a href="/logoff">Log off</a></li>
				</ol>
			</nav>
		</div>
	</div>
	<!-- nav -->
	<div class="nav">
		<nav aria-label="breadcrumb">
			<ol class="breadcrumb">
				<li class="breadcrumb-item">Home</li>
				<li class="breadcrumb-item active" aria-current="page">Transfer</li>
			</ol>
		</nav>
	</div>
	<div class="money_frame">
		<div class="money_frame1">
			<div class="label_connection">
				<label class="label_money">Send Money</label>
				<form th:action="@{/connection}" method="GET">
					<button type="submit" class="btn_connection">Add
						Connection</button>
				</form>
			</div>
			<form th:action="@{/transfer}" th:object="${transfer}" method="POST">
				<div class="money_frame2">
					<div>
						<input type="date" class="date" th:field="*{date}">
					</div>
					<div class="frame_select">
						<select class="select" th:field="*{customerRecipient}">
							<option class="option" value="0">Select A Connection</option>
							<option class="option" th:each="connection : ${connections}"
								th:value="${connection.customerRecipient}"
								th:text="${connection.customerRecipient.firstName} + ' ' + ${connection.customerRecipient.lastName}">
							</option>
						</select>
					</div>
					<div>
						<input type="text" class="description" th:field="*{description}"
							placeholder="Description">
					</div>
					<div class="frame_number">
						<input type="number" step="any" class="number"
							th:field="*{amount}" placeholder="0 â‚¬">
					</div>
					<div class="frame_button">
						<input type="submit" value="Pay" class="btn_pay"></input>
					</div>
				</div>
			</form>
		</div>
	</div>
	<div class="transactions">
		<div class="title_transactions">
			<label class="label_transaction">My Transactions</label>
		</div>
		<div class="table_transactions">
			<table class="table table-striped">
				<thead>
					<tr class="column">
						<th scope="col">Date</th>
						<th scope="col">From</th>
						<th scope="col">To</th>
						<th scope="col">Description</th>
						<th scope="col">Amount</th>
					</tr>
				</thead>
				<tbody>
					<tr th:each="transferDisplay: ${transferDisplayListPage}">
						<td><span th:text="${transferDisplay.date}"></span></td>
						<td><span th:text="${transferDisplay.sourceName}"></span></td>
						<td><span th:text="${transferDisplay.recipientName}"></span></td>
						<td><span th:text="${transferDisplay.description}"></span></td>
						<td><span th:text="${transferDisplay.amount}"></span></td>
					</tr>
				</tbody>
			</table>
		</div>
		<div>
			<nav aria-label="Page navigation example">
				<ul class="pagination justify-content-center">

					<li class="page-item"><a class="page-link" 
						th:href="@{/transfer(size=${transferDisplayListPage.size}, page=${currentPage} -1, bankSize=${bankOperationsDisplayListPage.size}, bankPage=${bankCurrentPage})}"
						aria-label="Previous"> <span aria-hidden="true">&laquo;</span></a></li>


					<th:block th:if="${transferDisplayListPage.totalPages > 0}"
						th:each="pageNumber : ${pageNumbers}">
						<li class="page-item"><a class="page-link"
							th:href="@{/transfer(size=${transferDisplayListPage.size}, page=${pageNumber}, bankSize=${bankOperationsDisplayListPage.size}, bankPage=${bankCurrentPage})}"
							th:text=${pageNumber}></a>
						</li>
					</th:block>

					<li class="page-item"><a class="page-link"
						th:href="@{/transfer(size=${transferDisplayListPage.size}, page=${currentPage} +1, bankSize=${bankOperationsDisplayListPage.size}, bankPage=${bankCurrentPage})}"
						aria-label="Next"> <span aria-hidden="true">&raquo;</span></a></li>
				</ul>
			</nav>
		</div>
	</div>

	<div class="transactions">
		<div class="title_transactions">
			<label class="label_transaction">My Banking Transactions</label>
		</div>
		<div class="table_transactions">
			<table class="table table-striped">
				<thead>
					<tr class="column">
						<th scope="col">Date</th>
						<th scope="col">From</th>
						<th scope="col">To</th>
						<th scope="col">Description</th>
						<th scope="col">Amount</th>
					</tr>
				</thead>
				<tbody>
					<tr th:each="bankTransferDisplay: ${bankOperationsDisplayListPage}">
						<td><span th:text="${bankTransferDisplay.date}"></span></td>
						<td><span th:text="${bankTransferDisplay.sourceName}"></span></td>
						<td><span th:text="${bankTransferDisplay.recipientName}"></span></td>
						<td><span th:text="${bankTransferDisplay.description}"></span></td>
						<td><span th:text="${bankTransferDisplay.amount}"></span></td>
					</tr>
			</table>
		</div>
		<div>
			<nav aria-label="Page navigation example">
				<ul class="pagination justify-content-center">

					<li class="page-item"><a class="page-link"
						th:href="@{/transfer(size=${transferDisplayListPage.size}, page=${currentPage}, bankSize=${bankOperationsDisplayListPage.size}, bankPage=${bankCurrentPage} -1)}"
						aria-label="Previous"> <span aria-hidden="true">&laquo;</span></a></li>


					<th:block th:if="${bankOperationsDisplayListPage.totalPages > 0}"
						th:each="bankPageNumber : ${bankPageNumbers}">
						<li class="page-item"><a class="page-link"
							th:href="@{/transfer(size=${transferDisplayListPage.size}, page=${currentPage}, bankSize=${bankOperationsDisplayListPage.size}, bankPage=${bankPageNumber})}"
							th:text=${bankPageNumber}></a>
						</li>
					</th:block>

					<li class="page-item"><a class="page-link"
						th:href="@{/transfer(size=${transferDisplayListPage.size}, page=${currentPage}, bankSize=${bankOperationsDisplayListPage.size}, bankPage=${bankCurrentPage} +1)}"
						aria-label="Next"> <span aria-hidden="true">&raquo;</span></a></li>
				</ul>
			</nav>
		</div>
	</div>
</body>
</html>